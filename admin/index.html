<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>RVU Jersey Claims (Admin)</title>
  <style>
    body { font-family: sans-serif; margin: 2rem; }
    table { border-collapse: collapse; margin-top: 1rem; width: 100%; }
    td, th { border: 1px solid #ccc; padding: 8px; }
    th { background: #eee; }
  </style>
</head>
<body>
  <h2>Admin â€“ Claimed Jerseys</h2>
  <input type="password" id="secret" placeholder="Admin Secret" />
  <button onclick="loadClaims()">Load Claims</button>

  <table id="claimsTable">
    <thead><tr><th>Email</th><th>Claimed At</th></tr></thead>
    <tbody></tbody>
  </table>

  <script>
    async function loadClaims() {
      const secret = document.getElementById("secret").value;
      const res = await fetch("/admin/claims", {
        headers: { "Authorization": "Bearer " + secret }
      });
      const data = await res.json();
      const tbody = document.querySelector("#claimsTable tbody");
      tbody.innerHTML = "";
      if (data.success) {
        data.claims.forEach(c => {
          const tr = document.createElement("tr");
          tr.innerHTML = `<td>${c.email}</td><td>${c.claimed_at}</td>`;
          tbody.appendChild(tr);
        });
      } else {
        alert(data.message);
      }
    }
  </script>
</body>
<!-- removed -->
